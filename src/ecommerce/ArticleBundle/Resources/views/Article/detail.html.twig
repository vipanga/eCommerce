{# src/ecommerce/ArticleBundle/Resources/views/Article/detail.html.twig #}

{% extends "ecommerceArticleBundle::layout.html.twig" %}

{% block titre %}
    Acheter {{ article.getNameItem() }} - {{ parent() }}
{% endblock %}

{% block active %}active{% endblock %}

{% block contenu_accueil %}

    <div class="container">

        <div class="col-md-12">
            <ul class="breadcrumb">
                <li><a href="{{ path('ecommerce_accueil_accueil') }}">Accueil</a>
                </li>
                <li>
                    <a href="{{ path('ecommerce_article_categorie', {'id': article.genre.id}) }}">{{ article.genre.name }}</a>
                </li>
                <li>{{ article.getNameItem() }}</li>
            </ul>

        </div>

        <div class="col-md-3">

            <!-- *** PANNEAU DES CATEGORIES ***
        _________________________________________________________ -->
            {% include "ecommerceArticleBundle:Article:detail_genre_panel.html.twig" %}
            <!-- *** ANNEAU DES CATEGORIES FIN *** -->

        </div>

        <div class="col-md-9">

            <div itemscope itemtype="http://schema.org/Product" class="row" id="productMain">
                <div class="col-sm-6">
                    <div id="mainImage">
                        {# On vérifie qu'une image est bien associée à l'article #}
                        {% if article.image is not null %}
                            <img itemprop="image" src="{{ asset(article.image.webPath) }}"
                                 alt="{{ article.getNameItem() }}" width="100%"
                                 class="img-responsive">
                        {% else %}
                            <img itemprop="image" src="{{ asset('images/detailbig2.jpg') }}"
                                 alt="{{ article.getNameItem() }}"
                                 width="100%" class="img-responsive">
                        {% endif %}

                    </div>

                    {# On vérifie si l'article n'est pas encore vendu #}
                    {% if article.getSolde() is not null %}
                        <div class="ribbon new">
                            <div class="theribbon">NEW</div>
                            <div class="ribbon-background"></div>
                        </div>
                        <!-- /.ribbon -->
                    {% else %}
                        <div class="ribbon sale">
                            <div class="theribbon">VENDU</div>
                            <div class="ribbon-background"></div>
                        </div>
                        <!-- /.ribbon -->
                    {% endif %}
                </div>

                <div class="col-sm-6">
                    <div class="box">
                        <h1 class="text-center">
                            <span itemprop="name">
                                {{ article.getNameItem() }}
                            </span>
                        </h1>
                        <div itemprop="offers" itemscope itemtype="http://schema.org/Offer">
                            <p class="price">
                                <span itemprop="priceCurrency" content="USD">
                                    Prix: $
                                </span>
                                <span itemprop="price" content="{{ article.getPrice() }}">
                                    {{ article.getPrice() }}
                                </span>
                            </p>
                        </div>

                        <dl class="dl-horizontal">
                            <dt>Etat :</dt>
                            <dd>{{ article.getQuality() }}</dd>
                            <dt>Quantité :</dt>
                            <dd>{{ article.getQuantity() }}</dd>
                            <dt>Ville de provenance :</dt>
                            <dd>{{ article.getCity() }}</dd>
                            <dt>Province :</dt>
                            <dd>{{ article.getProvince() }}</dd>
                            <dt>Vendeur :</dt>
                            <dd>
                                <a href="{{ path('ecommerce_article_publisher_items', {'id': article.user.id, 'username': article.user.username}) }}">
                                    <span itemprop="author">
                                        {{ article.user.username }}
                                    </span>
                                </a>
                            </dd>
                            <dt>Contact :</dt>
                            <dd>{{ article.user.telephone }}</dd>
                            <dt>Date publication :</dt>
                            <dd>
                                <meta itemprop="datePublished"
                                      content="{{ article.getDatepublication()|date('d-M-Y') }}">{{ article.getDatepublication()|date('d-M-Y') }}
                            </dd>
                            <hr>
                            <dt>Note vendeur :</dt>
                            <dd>
                                <small>
                                    <small>
                                        <small>
                                            <small>
                                                <div itemprop="aggregateRating" itemscope
                                                     itemtype="http://schema.org/AggregateRating">
                                                    <span itemprop="ratingValue">{{ note }}</span>
                                                </div>
                                            </small>
                                        </small>
                                    </small>
                                </small>
                            </dd>

                        </dl>


                    </div>

                    {#<div class="row" id="thumbs">
                                            <div class="col-xs-4">
                                                <a href="{{ asset(article.image.webPath) }}" class="thumb">
                                                    <img src="{{ asset(article.image.webPath) }}" alt="{{ article.image.alt }}" width="100%" height="236" class="img-responsive">
                                                </a>
                                            </div>
                                            <div class="col-xs-4">
                                                <a href="{{ asset('images/detailbig2.jpg') }}" class="thumb">
                                                    <img src="{{ asset('images/detailsquare2.jpg') }}" alt="" width="100%" height="236" class="img-responsive">
                                                </a>
                                            </div>
                                            <div class="col-xs-4">
                                                <a href="{{ asset('images/detailbig3.jpg') }}" class="thumb">
                                                    <img src="{{ asset('images/detailsquare3.jpg') }}" alt="" width="100%" height="236" class="img-responsive">
                                                </a>
                                            </div>
                                        </div>
                                        <!-- /.thumbs -->#}

                </div>

            </div>


            <div class="box" id="details">
                <p>
                <h4>Détails du produit</h4>
                <p>
                    <span itemprop="description">
                        {{ article.getDescription() }}
                    </span>
                </p>

                <hr>
                <div class="social">
                    <h4>Partager avec les amis</h4>
                    {#<p>
                        <a href="#" class="external facebook" data-animate-hover="pulse"><i class="fa fa-facebook"></i></a>
                        <a href="#" class="external gplus" data-animate-hover="pulse"><i class="fa fa-google-plus"></i></a>
                        <a href="#" class="external twitter" data-animate-hover="pulse"><i
                                    class="fa fa-twitter"></i></a>
                        <a href="#" class="email" data-animate-hover="pulse"><i class="fa fa-envelope"></i></a>
                    </p>#}

                    <div class="row">
                        <div class="col-md-3">
                            <div
                                    class="fb-like"
                                    data-href="{{ path('ecommerce_article_detail', {'id': article.getId(), 'slug':article.getSlug()}) }}"
                                    data-layout="button_count" data-action="like" data-show-faces="false"
                                    data-share="true">

                            </div>
                        </div>

                        <div class="col-md-3">
                            <!-- Place this tag where you want the +1 button to render. -->
                            <div class="g-plusone"></div>
                        </div>

                        <div class="col-md-3">
                            <script
                                    type="IN/Share"
                                    data-url="{{ path('ecommerce_article_detail', {'id': article.getId(), 'slug':article.getSlug()}) }}"
                                    data-counter="right">
                            </script>
                        </div>

                        <div class="col-md-3">
                            <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
                        </div>
                    </div>
                </div>
            </div>

            {#<div class="row same-height-row">
                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="box same-height">
                        <h3>Articles similaires</h3>
                    </div>
                </div>

                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="product same-height">
                        <div class="flip-container">
                            <div class="flipper">
                                <div class="front">
                                    <a href="#">
                                        <img src="{{ asset('images/product2.jpg') }}" alt="" class="img-responsive">
                                    </a>
                                </div>
                                <div class="back">
                                    <a href="#">
                                        <img src="{{ asset('images/product2_2.jpg') }}" alt="" class="img-responsive">
                                    </a>
                                </div>
                            </div>
                        </div>
                        <a href="#" class="invisible">
                            <img src="{{ asset('images/product2.jpg') }}" alt="" class="img-responsive">
                        </a>
                        <div class="text">
                            <h3>Polo Blanc</h3>
                            <p class="price">12.000 Fc</p>
                        </div>
                    </div>
                    <!-- /.product -->
                </div>

                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="product same-height">
                        <div class="flip-container">
                            <div class="flipper">
                                <div class="front">
                                    <a href="#">
                                        <img src="{{ asset('images/product1.jpg') }}" alt="" class="img-responsive">
                                    </a>
                                </div>
                                <div class="back">
                                    <a href="#">
                                        <img src="{{ asset('images/product1_2.jpg') }}" alt="" class="img-responsive">
                                    </a>
                                </div>
                            </div>
                        </div>
                        <a href="#" class="invisible">
                            <img src="{{ asset('images/product1.jpg') }}" alt="" class="img-responsive">
                        </a>
                        <div class="text">
                            <h3>Veste en fourure</h3>
                            <p class="price">100.000 Fc</p>
                        </div>
                    </div>
                    <!-- /.product -->
                </div>


                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="product same-height">
                        <div class="flip-container">
                            <div class="flipper">
                                <div class="front">
                                    <a href="#">
                                        <img src="{{ asset('images/product3.jpg') }}" alt="" class="img-responsive">
                                    </a>
                                </div>
                                <div class="back">
                                    <a href="#">
                                        <img src="{{ asset('images/product3_2.jpg') }}" alt="" class="img-responsive">
                                    </a>
                                </div>
                            </div>
                        </div>
                        <a href="#" class="invisible">
                            <img src="{{ asset('images/product3.jpg') }}" alt="" class="img-responsive">
                        </a>
                        <div class="text">
                            <h3>Chemise dame</h3>
                            <p class="price">14300 Fc</p>

                        </div>
                    </div>
                    <!-- /.product -->
                </div>

            </div>#}

        </div>
        <!-- /.col-md-9 -->
    </div>
    <!-- /.container -->

{% endblock %}